"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[111],{4763:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(9439),r=a(2791),s=a(697),c=a(8029),o=a(926),l=a(2871),i=a(1918),m="CustomSelect_selectItem__5S4AN",d=a(184);function u(e){var t=e.placeholder,a=e.field,u=e.form,f=e.valuesList,p=(0,r.useState)([]),h=(0,n.Z)(p,2),x=h[0],j=h[1];(0,r.useEffect)((function(){j(a.value)}),[a.value]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.Z,{className:m,id:"multiple-chip",multiple:!0,value:x,onChange:function(e){var t=e.target.value;j("string"===typeof t?t.split(","):t),u.setFieldValue(a.name,"string"===typeof t?t.split(","):t)},input:(0,d.jsx)(c.Z,{id:"select-multiple-chip",placeholder:t}),renderValue:function(e){return(0,d.jsx)(s.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return(0,d.jsx)(i.Z,{label:e},e)}))})},children:f.map((function(e){return(0,d.jsx)(o.Z,{value:e.name,children:e.name},e.name)}))})})}},9321:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(2791),r=a(4164),s=a(2405),c="Modal_backdrop__xTnIT",o="Modal_content__gGb69",l="Modal_closeBtn__mlOa4",i=a(184),m=document.querySelector("#modal-root");function d(e){var t=e.onClose,a=e.children;(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,r.createPortal)((0,i.jsx)("div",{className:c,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,i.jsxs)("div",{className:o,children:[(0,i.jsx)("button",{type:"button",onClick:t,className:l,children:(0,i.jsx)(s.Z,{})}),a]})}),m)}},2215:function(e,t,a){a.d(t,{Z:function(){return l}});var n="PageHeader_pageHeaderWrapper__nRPWJ",r="PageHeader_titleWrapper__sGuxY",s="PageHeader_pageTitle__jomd9",c="PageHeader_headerBtn__qjOSB",o=a(184);function l(e){var t=e.title,a=e.btnTitle,l=e.btnAction,i=e.children;return(0,o.jsxs)("div",{className:n,children:[(0,o.jsxs)("div",{className:r,children:[(0,o.jsx)("h1",{className:s,children:t}),(0,o.jsx)("button",{className:c,type:"button",onClick:function(){return l()},children:a})]}),i]})}},2918:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(9439),r=a(2791);function s(){var e=(0,r.useState)(!1),t=(0,n.Z)(e,2),a=t[0],s=t[1];return{isModalOpen:a,toggleModal:function(){return s((function(e){return!e}))}}}},1111:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var n=a(9434),r=a(7689),s=a(2946),c=a(8879),o=a(7767),l=a(2215),i=a(1413),m=a(9439),d=a(2791),u=a(276),f=a(9457),p=a(1686),h=a(2918),x=a(7834),j=a(3634),_=a(9321),N=a(5705),v=a(6727),Z=a(4763),b=a(7455),C=a(184),g=v.Ry().shape({avatar:v.Z_(),firstName:v.Z_().required("* it's a required field"),middleName:v.Z_(),lastName:v.Z_().required("* it's a required field"),jobTitle:v.Z_(),company:v.Z_(),phone:v.Z_().required("* it's a required field"),email:v.Z_(),birthday:v.Z_(),note:v.Z_(),groups:v.IX().default([]),tags:v.IX().default([])});function I(e){var t=e.onClose,a=e.contact,r=void 0===a?{}:a,s=e.userGroups,c=e.userTags,o=(0,n.I0)();return(0,C.jsxs)("div",{className:b.Z.formWrapper,children:[(0,C.jsx)("div",{className:b.Z.formHeader,children:(0,C.jsx)("h3",{children:"Edit Contact"})}),(0,C.jsx)(N.J9,{initialValues:r,validationSchema:g,onSubmit:function(e,a){var n=a.resetForm,r=(0,i.Z)({},e);o((0,j.Tk)(r)),n(),t()},children:function(e){e.values;return(0,C.jsxs)(N.l0,{className:b.Z.form,name:"addContactForm",id:"addContactForm",autoComplete:"off",children:[(0,C.jsxs)("fieldset",{className:b.Z.formField,form:"addContactForm",name:"name",role:"group",children:[(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"firstName",placeholder:"First name"}),(0,C.jsx)(N.Bc,{name:"firstName",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]}),(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"middleName",placeholder:"Middle name"}),(0,C.jsx)(N.Bc,{name:"middleName",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]}),(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"lastName",placeholder:"Last name"}),(0,C.jsx)(N.Bc,{name:"lastName",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]})]}),(0,C.jsxs)("fieldset",{className:b.Z.formField,form:"addContactForm",name:"job",role:"group",children:[(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"jobTitle",placeholder:"Position"}),(0,C.jsx)(N.Bc,{name:"jobTitle",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]}),(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"company",placeholder:"Company name"}),(0,C.jsx)(N.Bc,{name:"company",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]})]}),(0,C.jsxs)("fieldset",{className:b.Z.formField,form:"addContactForm",name:"contacts",role:"group",children:[(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"phone",placeholder:"Phone"}),(0,C.jsx)(N.Bc,{name:"phone",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]}),(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"text",name:"email",placeholder:"Email"}),(0,C.jsx)(N.Bc,{name:"email",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]})]}),(0,C.jsxs)("fieldset",{className:b.Z.formField,form:"addContactForm",name:"attributes-1",role:"group",children:[(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,type:"date",name:"birthday"}),(0,C.jsx)(N.Bc,{name:"birthday",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]}),(0,C.jsxs)("label",{className:b.Z.formLabel,children:[(0,C.jsx)(N.gN,{className:b.Z.formInput,as:"textarea",name:"note",placeholder:"Note",rows:7}),(0,C.jsx)(N.Bc,{name:"note",children:function(e){return(0,C.jsx)("p",{className:b.Z.errorText,children:e})}})]})]}),(0,C.jsxs)("fieldset",{className:b.Z.formField,form:"addContactForm",name:"attributes-2",role:"group",children:[(0,C.jsx)("label",{className:b.Z.formLabel,children:(0,C.jsx)(N.gN,{className:b.Z.formInput,name:"groups",component:Z.Z,placeholder:"Select group...",valuesList:s})}),(0,C.jsx)("label",{className:b.Z.formLabel,children:(0,C.jsx)(N.gN,{className:b.Z.formInput,name:"tags",component:Z.Z,placeholder:"Select tag...",valuesList:c})})]}),(0,C.jsx)("button",{className:b.Z.formBtn,type:"submit",children:"Update Contact"})]})}})]})}var y=a(3901),L=a(8665),F=a(998),A=a(1668),k=a(5043),T=a(1849),H=a(4279),B=a(3854),M=a(9725),w=a(847),S=a(2419),W={contactWrapper:"Contact_contactWrapper__UiMnM",mainInfoWrapper:"Contact_mainInfoWrapper__4latD",toolsList:"Contact_toolsList__AAJHE",toolsBtn:"Contact_toolsBtn__9gO0v",absolute:"Contact_absolute__k6Bnf",btnIcon:"Contact_btnIcon__MHLqH",avatar:"Contact_avatar__899mE",contactName:"Contact_contactName__6ZIQb",contactRole:"Contact_contactRole__dPG6k",contactAttributesList:"Contact_contactAttributesList__9w9mi",contactAttribute:"Contact_contactAttribute__-qiL+",contactAttributeItemsList:"Contact_contactAttributeItemsList__Gefpo",contactAttributeItem:"Contact_contactAttributeItem__yN2DW",fullInfoWrapper:"Contact_fullInfoWrapper__jXy8k",infoItem:"Contact_infoItem__6bs6+",itemContent:"Contact_itemContent__hX9Ow",visuallyHidden:"Contact_visuallyHidden__iqkY2"};function q(e){var t=e.contact,a=e.userGroups,s=e.userTags,c=(0,d.useState)(""),o=(0,m.Z)(c,2),l=o[0],N=o[1],v=(0,r.s0)(),Z=(0,n.I0)(),b=(0,h.Z)(),g=b.isModalOpen,q=b.toggleModal,z=(0,x.a)().user;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:W.contactWrapper,children:[(0,C.jsxs)("div",{className:W.mainInfoWrapper,children:[(0,C.jsxs)("ul",{className:W.toolsList,children:[(0,C.jsx)("li",{children:(0,C.jsx)(y.Z,{title:"edit",children:(0,C.jsx)("button",{type:"button",name:"edit",className:W.toolsBtn,onClick:q,children:(0,C.jsx)(F.Z,{className:W.btnIcon})})})}),(0,C.jsx)("li",{children:(0,C.jsx)(y.Z,{title:"delete",children:(0,C.jsx)("button",{type:"button",name:"delete",className:W.toolsBtn,onClick:function(){return function(e){var t={userId:z.id,contactId:e};p.Confirm.show("Delete Contact","Do you really want to delete this contact?","Yes","No",(function(){Z((0,j.GK)(t)),v(-1)}))}(t.id)},children:(0,C.jsx)(A.Z,{className:W.btnIcon})})})})]}),(0,C.jsxs)("div",{className:W.mainInfo,children:[(0,C.jsx)(L.Z,{className:W.avatar,children:t.avatar||l?(0,C.jsx)("img",{src:l||t.avatar,alt:t.firstName}):(0,C.jsx)("span",{children:"".concat(t.firstName.slice(0,1)).concat(t.lastName.slice(0,1))})}),t.avatar||l?(0,C.jsx)(y.Z,{title:"remove",children:(0,C.jsx)("button",{type:"button",name:"remove",className:"".concat(W.toolsBtn," ").concat(W.absolute),onClick:function(){return N(""),void Z((0,j.Tk)((0,i.Z)((0,i.Z)({},t),{},{avatar:""})))},children:(0,C.jsx)(A.Z,{className:W.btnIcon})})}):(0,C.jsx)(y.Z,{title:"add avatar",children:(0,C.jsxs)("label",{type:"button",name:"delete",className:"".concat(W.toolsBtn," ").concat(W.absolute),children:[(0,C.jsx)(S.Z,{className:W.btnIcon}),(0,C.jsx)("input",{type:"file",accept:"image/*",className:W.visuallyHidden,onChange:function(e){var a=e.target.files[0];if(a.size<1e7){var n=(0,u.iH)(f.t,"avatars/".concat(z.id,"/").concat(t.id)),r=(0,u.B0)(n,a);r.on("state_changed",(function(e){}),(function(e){console.log(e.message)}),(function(){(0,u.Jt)(r.snapshot.ref).then((function(e){N(e);var a=(0,i.Z)((0,i.Z)({},t),{},{avatar:e});Z((0,j.Tk)(a)),N("")}))}))}else p.Notify.failure("\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f ".concat(a.name," \u0437\u0430\u043d\u0430\u0434\u0442\u043e \u0432\u0435\u043b\u0438\u043a\u0435, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0456\u043d\u0448\u0435 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"))}})]})}),(0,C.jsx)("p",{className:W.contactName,children:"".concat(t.firstName," ").concat(t.middleName," ").concat(t.lastName)}),(0,C.jsx)("p",{className:W.contactRole,children:"".concat(t.jobTitle," | ").concat(t.company)})]}),(0,C.jsxs)("ul",{className:W.contactAttributesList,children:[(0,C.jsxs)("li",{className:W.contactAttribute,children:[(0,C.jsx)(k.Z,{}),(0,C.jsx)("ul",{className:W.contactAttributeItemsList,children:t.groups.map((function(e,t){return(0,C.jsx)("li",{className:W.contactAttributeItem,children:e},t)}))})]}),(0,C.jsxs)("li",{className:W.contactAttribute,children:[(0,C.jsx)(T.Z,{}),(0,C.jsx)("ul",{className:W.contactAttributeItemsList,children:t.tags.map((function(e,t){return(0,C.jsx)("li",{className:W.contactAttributeItem,children:e},t)}))})]})]})]}),(0,C.jsxs)("ul",{className:W.fullInfoWrapper,children:[(0,C.jsxs)("li",{className:W.infoItem,children:[(0,C.jsx)(H.Z,{}),(0,C.jsx)("p",{className:W.itemContent,children:t.phone})]}),(0,C.jsxs)("li",{className:W.infoItem,children:[(0,C.jsx)(B.Z,{}),(0,C.jsx)("p",{className:W.itemContent,children:t.email})]}),(0,C.jsxs)("li",{className:W.infoItem,children:[(0,C.jsx)(M.Z,{}),(0,C.jsx)("p",{className:W.itemContent,children:t.birthday})]}),(0,C.jsxs)("li",{className:W.infoItem,children:[(0,C.jsx)(w.Z,{}),(0,C.jsx)("p",{className:W.itemContent,children:t.note})]})]})]}),g&&(0,C.jsx)(_.Z,{onClose:q,children:(0,C.jsx)(I,{onClose:q,contact:t,userGroups:a,userTags:s})})]})}var z="ContactDetails_contactDetailsWrapper__Rip9o";function V(){var e=(0,n.v9)(s.DI),t=(0,n.v9)(c.Gr),a=(0,n.v9)(o.a0),i=(0,r.TH)(),m=(0,r.s0)();return(0,C.jsxs)("div",{className:z,children:[(0,C.jsx)(l.Z,{title:"Contact Details",btnTitle:"<<-Back",btnAction:function(){m(-1)}}),(0,C.jsx)(q,{contact:e.find((function(e){return e.id===i.pathname.split("/")[i.pathname.split("/").length-1]})),userGroups:t,userTags:a})]})}},2946:function(e,t,a){a.d(t,{DI:function(){return n}});var n=(0,a(6916).P1)([function(e){return e.contacts.contacts},function(e){return e.contacts.filter}],(function(e,t){return e.filter((function(e){return"".concat(e.firstName," ").concat(e.middleName," ").concat(e.lastName).toLowerCase().includes(t.toLowerCase())}))}))},8879:function(e,t,a){a.d(t,{Gr:function(){return n}});var n=function(e){return e.groups.groups}},7767:function(e,t,a){a.d(t,{a0:function(){return n}});var n=function(e){return e.tags.tags}},9457:function(e,t,a){a.d(t,{t:function(){return c}});var n=a(4702),r=a(276),s=(0,n.ZF)({apiKey:"AIzaSyCJ3Ca7j0QJhfoMC1yLGbgq-bYoqfPpM-E",authDomain:"smartbook-7fc88.firebaseapp.com",projectId:"smartbook-7fc88",storageBucket:"smartbook-7fc88.appspot.com",messagingSenderId:"86530932030",appId:"1:86530932030:web:75feb068bea01601cc406f"}),c=(0,r.cF)(s)},2419:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},9725:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.53 9.92-1-1-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V22h18v-5.61c-.75.51-1.71.75-2.74.52-.66-.14-1.25-.51-1.73-.99M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"}),"CakeSharp")},1668:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M6 21h12V7H6zm2.46-9.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForeverSharp")},998:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75z"}),"EditSharp")},847:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184);t.Z=(0,r.default)((0,s.jsx)("path",{d:"M22 2H2.01L2 22l4-4h16zM8 14H6v-2h2zm0-3H6V9h2zm0-3H6V6h2zm7 6h-5v-2h5zm3-3h-8V9h8zm0-3h-8V6h8z"}),"SpeakerNotesSharp")},7455:function(e,t){t.Z={formWrapper:"AddContactForm_formWrapper__i4Ns9",formHeader:"AddContactForm_formHeader__mZtvi",form:"AddContactForm_form__tIh1h",formField:"AddContactForm_formField__X06qH",formLabel:"AddContactForm_formLabel__kDjzj",formInput:"AddContactForm_formInput__4Co1h",formBtn:"AddContactForm_formBtn__ojDpU",avatarField:"AddContactForm_avatarField__XQqfd",avatarLabel:"AddContactForm_avatarLabel__nBY9A",avatarPreview:"AddContactForm_avatarPreview__QP6Iw",avatarIcon:"AddContactForm_avatarIcon__MpL0v",errorText:"AddContactForm_errorText__KqUab",visuallyHidden:"AddContactForm_visuallyHidden__DVJNo"}}}]);
//# sourceMappingURL=111.96e02d91.chunk.js.map